@model NeuralPlay.Models.InvitacionViewModel

@{
 ViewData["Title"] = "Invitacion Details";
}

<h1>Invitacion @Model.IdInvitacion</h1>
<dl class="row">
 <dt class="col-sm-2">Tipo</dt>
 <dd class="col-sm-10">@Model.Tipo</dd>
 <dt class="col-sm-2">Estado</dt>
 <dd class="col-sm-10">@Model.Estado</dd>
 <dt class="col-sm-2">Emisor</dt>
 <dd class="col-sm-10">@Model.EmisorNick</dd>
 <dt class="col-sm-2">Destinatario</dt>
 <dd class="col-sm-10">@Model.DestinatarioNick</dd>
</dl>

@{
 var uid = Context.Session.GetInt32("UsuarioId");
 bool isDest = uid.HasValue && Model.DestinatarioId.HasValue && uid.Value == Model.DestinatarioId.Value;
}

@if (Model.Estado.ToString() == "PENDIENTE" && isDest)
{
 <form asp-action="Accept" method="post" class="d-inline">
 <input type="hidden" name="id" value="@Model.IdInvitacion" />
 <button type="submit" class="btn btn-success">Aceptar</button>
 </form>
 <form asp-action="Reject" method="post" class="d-inline ms-2">
 <input type="hidden" name="id" value="@Model.IdInvitacion" />
 <button type="submit" class="btn btn-danger">Rechazar</button>
 </form>
}

<p>
 <a asp-action="Index" class="btn btn-secondary">Back</a>
</p>
